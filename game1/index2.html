<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <title>Animation</title>
    <script src="js_v3/zrender.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html,
        body,
        #canvas {
            width: 100%;
            height: 100%;
        }

        img {
            vertical-align: top;
            width: 100%;
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 10;
        }
    </style>

</head>

<body>
    <img src="images/jigsaw1_bg.jpg" alt="" class="secenbg">
    <div id="canvas"></div>

    <script src="js_v3/config.js"></script>
    <script type="text/javascript">
        // this.opts = Config;
        // var zr = zrender.init(document.getElementById('canvas'), { width: opts.designW, height: opts.designH });

        // for (var i = 0; i < 200; i++) {
        //     for (var j = 0; j < 200; j++) {
        //         var image = new zrender.Image({
        //             position: [i * 20, j * 20],
        //             scale: [1, 1],
        //             style: {
        //                 x: 0,
        //                 y: 0,
        //                 image: 'images/btn_again.png',
        //                 width: 20,
        //                 height: 20
        //             },
        //             draggable: true
        //         });
        //         zr.add(image);
        //     }
        // }
    </script>
    <script>
        var main = document.getElementById('canvas');
        this.opts = Config;
        // 初始化zrender
        var zr = zrender.init(main);
        this.pieces = []
        for (var i = 0, len = opts.pieceSrc.length; i < len; i++) {
            var msg = opts.pieceMsgs[i];
            var src = opts.pieceSrc[i];
            var image = new zrender.Image({
                position: [msg.startx, msg.starty],
                scale: [1, 1],
                style: {
                    x: 0,
                    y: 0,
                    image: src,
                    width: msg.w,
                    height: msg.h
                },
                draggable: true,
                shadowBlur: 80,
                shadowColor: 'rgba(0,0,0,0.8)',
                shadowOffsetX: 5,
                shadowOffsetY: 5,
            });
            zr.add(image);
            this.pieces.push(image);
        }
    </script>
    <!-- <script src="js_v3/index.js"></script> -->
</body>

</html>